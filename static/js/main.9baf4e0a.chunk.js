(this["webpackJsonpaqi-website"]=this["webpackJsonpaqi-website"]||[]).push([[0],{14:function(e,c,a){},15:function(e,c,a){"use strict";a.r(c);var t=a(1),s=a(6),r=a.n(s),i=a(5),n=a.n(i),l=a(2),d=a(7),j=a(3),b=a(0),_=function(e){var c=e.counties,a=e.countySelected,t=e.setCountySelected;return Object(b.jsxs)("div",{className:"bar__container",children:[Object(b.jsx)("h3",{className:"bar__title",children:"\u7a7a\u6c23\u54c1\u8cea\u6307\u6a19\uff08AQI\uff09"}),Object(b.jsxs)("select",{className:"bar__selections",value:a,onChange:function(e){t(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"\u8acb\u9078\u64c7\u5730\u5340"}),c.map((function(e,c){return Object(b.jsx)("option",{value:e,children:e},c)}))]}),Object(b.jsxs)("div",{className:"bar__aqi-container",children:[Object(b.jsxs)("div",{className:"bar__aqi-box",children:[Object(b.jsx)("div",{className:"bar__aqi-num bar__aqi-num--1",children:Object(b.jsx)("p",{children:"0 - 50"})}),Object(b.jsx)("div",{className:"bar__aqi-info",children:Object(b.jsx)("p",{children:"\u826f\u597d"})})]}),Object(b.jsxs)("div",{className:"bar__aqi-box",children:[Object(b.jsx)("div",{className:"bar__aqi-num bar__aqi-num--2",children:Object(b.jsx)("p",{children:"51 - 100"})}),Object(b.jsx)("div",{className:"bar__aqi-info",children:Object(b.jsx)("p",{children:"\u666e\u901a"})})]}),Object(b.jsxs)("div",{className:"bar__aqi-box",children:[Object(b.jsx)("div",{className:"bar__aqi-num bar__aqi-num--3",children:Object(b.jsx)("p",{children:"101 - 150"})}),Object(b.jsx)("div",{className:"bar__aqi-info",children:Object(b.jsx)("p",{children:"\u654f\u611f"})})]}),Object(b.jsxs)("div",{className:"bar__aqi-box",children:[Object(b.jsx)("div",{className:"bar__aqi-num bar__aqi-num--4",children:Object(b.jsx)("p",{children:"151 - 200"})}),Object(b.jsx)("div",{className:"bar__aqi-info",children:Object(b.jsx)("p",{children:"\u4e0d\u826f"})})]}),Object(b.jsxs)("div",{className:"bar__aqi-box",children:[Object(b.jsx)("div",{className:"bar__aqi-num bar__aqi-num--5",children:Object(b.jsx)("p",{children:"201 - 300"})}),Object(b.jsx)("div",{className:"bar__aqi-info",children:Object(b.jsx)("p",{children:"\u7cdf\u7cd5"})})]}),Object(b.jsxs)("div",{className:"bar__aqi-box",children:[Object(b.jsx)("div",{className:"bar__aqi-num bar__aqi-num--6",children:Object(b.jsx)("p",{children:"301 - 400"})}),Object(b.jsx)("div",{className:"bar__aqi-info",children:Object(b.jsx)("p",{children:"\u5371\u5bb3"})})]})]})]})},o=function(e){var c=e.aqi,a=e.color;return Object(b.jsx)("div",{className:"cardColor__container ".concat(a),children:Object(b.jsx)("p",{children:c})})},O=function(e){var c=e.district,a=e.aqi,t=e.setSelectedCard,s=e.data,r=e.color;return Object(b.jsxs)("div",{className:"card__container",onClick:function(){return function(e){t(e)}(s)},children:[Object(b.jsx)("div",{className:"card__district",children:Object(b.jsx)("h3",{children:c})}),Object(b.jsx)("div",{className:"card__aqi",children:Object(b.jsx)(o,{aqi:a,color:r})})]})},u=function(e){var c=e.dataSelected,a=e.setSelectedCard;return Object(b.jsx)("div",{className:"cardList__container",children:c.map((function(e){return Object(b.jsx)(O,{district:e.SiteName,aqi:e.AQI,setSelectedCard:a,data:e,color:e.color},e.SiteId)}))})},x=function(e){var c=e.selectedCard;return Object(b.jsxs)("div",{className:"selectedCard__container",children:[Object(b.jsx)("div",{className:"selectedCard__district",children:Object(b.jsx)(O,{district:c.SiteName,aqi:c.AQI,color:c.color})}),Object(b.jsxs)("div",{className:"selectedCard__pollutions",children:[Object(b.jsxs)("div",{className:"selectedCard__pollution",children:[Object(b.jsx)("p",{className:"selectedCard__name",children:"\u81ed\u6c27"}),Object(b.jsx)("p",{className:"selectedCard__unit",children:"O3 (ppb)"}),Object(b.jsx)("p",{className:"selectedCard__aqi",children:c.O3})]}),Object(b.jsxs)("div",{className:"selectedCard__pollution",children:[Object(b.jsx)("p",{className:"selectedCard__name",children:"\u61f8\u6d6e\u5fae\u7c92"}),Object(b.jsx)("p",{className:"selectedCard__unit",children:"PM10 (\u03bcg/m3)"}),Object(b.jsx)("p",{className:"selectedCard__aqi",children:c.PM10})]}),Object(b.jsxs)("div",{className:"selectedCard__pollution",children:[Object(b.jsx)("p",{className:"selectedCard__name",children:"\u7d30\u61f8\u6d6e\u5fae\u7c92"}),Object(b.jsx)("p",{className:"selectedCard__unit",children:"PM2.5 (\u03bcg/m3)"}),Object(b.jsx)("p",{className:"selectedCard__aqi",children:c["PM2.5"]})]}),Object(b.jsxs)("div",{className:"selectedCard__pollution",children:[Object(b.jsx)("p",{className:"selectedCard__name",children:"\u4e00\u6c27\u5316\u78b3"}),Object(b.jsx)("p",{className:"selectedCard__unit",children:"CO (ppm)"}),Object(b.jsx)("p",{className:"selectedCard__aqi",children:c.CO})]}),Object(b.jsxs)("div",{className:"selectedCard__pollution",children:[Object(b.jsx)("p",{className:"selectedCard__name",children:"\u4e8c\u6c27\u5316\u786b"}),Object(b.jsx)("p",{className:"selectedCard__unit",children:"SO2 (ppb)"}),Object(b.jsx)("p",{className:"selectedCard__aqi",children:c.SO2})]}),Object(b.jsxs)("div",{className:"selectedCard__pollution",children:[Object(b.jsx)("p",{className:"selectedCard__name",children:"\u4e8c\u6c27\u5316\u6c2e"}),Object(b.jsx)("p",{className:"selectedCard__unit",children:"NO2 (ppb)"}),Object(b.jsx)("p",{className:"selectedCard__aqi",children:c.NO2})]})]}),Object(b.jsx)("p",{className:"selectedCard__source",children:"\u8cc7\u6599\u4f86\u6e90\uff1a\u884c\u653f\u9662\u74b0\u4fdd\u7f72"})]})},h=function(e){var c=e.countySelected,a=e.data,s=e.setSelectedCard,r=e.selectedCard,i=Object(t.useState)([]),n=Object(j.a)(i,2),l=n[0],d=n[1];return Object(t.useEffect)((function(){var e=a.filter((function(e){return"\u65b0\u5317\u5e02"===e.County}));d(c?a.filter((function(e){return e.County===c})):e)}),[a,c]),Object(b.jsxs)("div",{className:"chart__container",children:[Object(b.jsx)("h3",{className:"chart__location",children:c||"\u65b0\u5317\u5e02"}),Object(b.jsxs)("div",{className:"chart__update-time",children:[Object(b.jsx)("span",{children:"\u66f4\u65b0\u6642\u9593\uff1a"}),r.PublishTime]}),Object(b.jsx)("section",{className:"chart__selected-card",children:Object(b.jsx)(x,{selectedCard:r})}),Object(b.jsx)("section",{className:"chart__cardList",children:Object(b.jsx)(u,{dataSelected:l,setSelectedCard:s})})]})},m=function(){var e=Object(t.useState)([]),c=Object(j.a)(e,2),a=c[0],s=c[1],r=Object(t.useState)(""),i=Object(j.a)(r,2),o=i[0],O=i[1],u=Object(t.useState)([]),x=Object(j.a)(u,2),m=x[0],p=x[1],N=Object(t.useState)({}),v=Object(j.a)(N,2),f=v[0],C=v[1];return Object(t.useEffect)((function(){(function(){var e=Object(d.a)(n.a.mark((function e(){var c,a,t,r,i,d,j;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://data.epa.gov.tw/api/v1/aqx_p_432?offset=0&limit=100&api_key=d15d5d72-05e5-41c0-ad3b-65eb8555311e");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).records.map((function(e){return Object.keys(e).forEach((function(c){return e[c]=""===e[c]?"-":e[c]}))})),t=a.records.map((function(e){return e.County})),r=t.filter((function(e,c,a){return a.indexOf(e)===c})),s(r),i=a.records.map((function(e){return e.AQI<51?Object(l.a)(Object(l.a)({},e),{},{color:"green"}):50<e.AQI<101?Object(l.a)(Object(l.a)({},e),{},{color:"yellow"}):100<e.AQI<151?Object(l.a)(Object(l.a)({},e),{},{color:"orange"}):150<e.AQI<201?Object(l.a)(Object(l.a)({},e),{},{color:"red"}):200<e.AQI<301?Object(l.a)(Object(l.a)({},e),{},{color:"purple"}):Object(l.a)(Object(l.a)({},e),{},{color:"brown"})})),p(i),d=i.filter((function(e){return"\u65b0\u5317\u5e02"===e.County})),j=i.filter((function(e){return e.County===o})),C(o?j[0]:d[0]);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(b.jsx)("div",{className:"app__wrapper",children:Object(b.jsxs)("div",{className:"app__container",children:[Object(b.jsxs)("section",{className:"app__title",children:[Object(b.jsx)("h1",{children:"\u81fa\u7063\u7a7a\u6c23\u54c1\u8cea\u67e5\u8a62"}),Object(b.jsx)("svg",{children:Object(b.jsx)("use",{xlinkHref:"images/sprite.svg#icon-magnifying-glass"})})]}),Object(b.jsx)("section",{className:"app__bar",children:Object(b.jsx)(_,{counties:a,countySelected:o,setCountySelected:O})}),Object(b.jsx)("section",{className:"app__chart",children:Object(b.jsx)(h,{countySelected:o,data:m,selectedCard:f,setSelectedCard:C})})]})})};a(14);r.a.render(Object(b.jsx)(m,{}),document.querySelector("#root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.9baf4e0a.chunk.js.map